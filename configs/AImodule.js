const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
//   async function run() {
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate itinerary plan name Semester Break for location: Kuala Lumpur, Malaysia, for 1 days and 1 night for family with a luxury budget with a public transport details options from Ipoh, Perak, public transport price (RM) with booking url, hotels option list with hotel name, hotel address, price (RM), hotel image url, geo coordinates, rating, descriptions and plan the itinerary based on places places\": [{\"address\": \"Jln Ampang, Kuala Lumpur City Centre, 50450 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\", \"category\": \"attraction\", \"contactNum\": \"\", \"description\": undefined, \"name\": \"Golden Triangle\", \"placeID\": \"-O193884d5860\", \"poster\": \"https://storage.googleapis.com/wandermy2.appspot.com/places/attraction/-O193884d5860/poster/Golden%20Triangle_0.jpg\", \"price_or_menu\": undefined, \"tags\": \"shopping nightlife vibrant entertainment iconic urban\", \"websiteLink\": \"https://bit.ly/kl_tower\"}, {\"address\": \"24, Jalan \nDatuk Sulaiman, Taman Tun Dr Ismail, 60000 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur\", \"category\": \"dining\", \"contactNum\": \"\", \"description\": undefined, \"name\": \"Chagee @ TTDI\", \"placeID\": \"-OBv5VhT59ioRg41Yylf\", \"poster\": \"https://firebasestorage.googleapis.com/v0/b/wandermy2.appspot.com/o/places%2Fdining%2F-OBv5VhT59ioRg41Yylf%2Fposter%2F2024-11-17T17%3A12%3A52.897Z?alt=media&token=54235c2b-e8a6-4104-b5ef-a5a42daf531f\", \"price_or_menu\": \"https://firebasestorage.googleapis.com/v0/b/wandermy2.appspot.com/o/places%2Fdining%2F-OBv5VhT59ioRg41Yylf%2Fmenu%2F2024-11-17T17%3A12%3A53.726Z?alt=media&token=855bd8f8-0e08-4ef5-ba69-a7000b726a5e\", \"tags\": \"tea drinks cozy trending refreshing viral\", \n\"websiteLink\": \"https://chagee.com.my/?utm_source=GBP&utm_medium=GBP&utm_campaign=GBP&utm_id=GBP&utm_term=GBP&utm_content=GBP\"}] all these attributes should be store in the JSON file, ticket pricing, geo coordinates, operating hour  (10:00 AM - 10:00 PM) , time to travel to each location for 1 days and 1 night with each day plan with the best time to visit for each place , add suggested places to visit not included in the places, the suggested  places should have the same attribute as the places stated but make sure it is separated from the places list variable isSuggested: true and make sure all image urls are real urls do not give placeholders, all these in JSON format\n "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"itineraryName\": \"Kuala Lumpur Luxury Family Getaway (1 Day, 1 Night)\",\n  \"location\": \"Kuala Lumpur, Malaysia\",\n  \"duration\": \"1 Day, 1 Night\",\n  \"budget\": \"Luxury\",\n  \"travelFrom\": \"Ipoh, Perak\",\n  \"transportation\": {\n    \"mode\": \"Bus\",\n    \"options\": [\n      {\n        \"company\": \"Transnasional\", \n        \"estimatedPrice\": \"RM 30-50 (depending on bus type and booking time)\",\n        \"bookingUrl\": \"https://www.transnasional.com.my/\" \n      },\n      {\n        \"company\": \"Plusliner\",\n        \"estimatedPrice\": \"RM 30-50 (depending on bus type and booking time)\",\n        \"bookingUrl\": \"https://www.plusliner.com.my/\"\n      }\n\n    ],\n    \"travelTime\": \"Approximately 2-3 hours\"\n  },\n  \"hotels\": [\n    {\n      \"name\": \"The Ritz-Carlton, Kuala Lumpur\",\n      \"address\": \"168, Jalan Imbi, Bukit Bintang, 55100 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\",\n      \"price\": \"RM 1500 - RM 3000+\",\n      \"imageUrl\": \"https://www.ritzcarlton.com/en_US/hotels/kuala-lumpur/images/hotel-exterior/exterior-main-desktop.jpg\",\n      \"geoCoordinates\": \"3.14167° N, 101.70833° E\",\n      \"rating\": 4.8,\n      \"description\": \"Luxury hotel in the heart of Kuala Lumpur with stunning city views, world-class amenities, and exceptional service.\"\n    },\n    {\n      \"name\": \"Mandarin Oriental, Kuala Lumpur\",\n      \"address\": \"Kuala Lumpur City Centre, 50088 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\",\n      \"price\": \"RM 1200 - RM 2500+\",\n      \"imageUrl\": \"https://www.mandarinoriental.com/static/images/destinations/kul/kul-hero-image.jpg\",\n      \"geoCoordinates\": \"3.1448° N, 101.7103° E\",\n      \"rating\": 4.7,\n      \"description\": \"Elegant hotel with sophisticated accommodations, multiple dining options, and a luxurious spa.\"\n    },\n    {\n      \"name\": \"Four Seasons Hotel Kuala Lumpur\",\n      \"address\": \"145, Jalan Ampang, Kuala Lumpur City Centre, 50450 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\",\n      \"price\": \"RM 1000 - RM 2000+\",\n      \"imageUrl\": \"https://www.fourseasons.com/images/properties/kul/FS_KUL_Exterior_wide_1920x1080.jpg\",\n      \"geoCoordinates\": \"3.1580° N, 101.7171° E\",\n      \"rating\": 4.6,\n      \"description\": \"Modern hotel with spacious rooms, excellent service, and convenient location in the city center.\"\n    }\n  ],\n  \"places\": [\n    {\n      \"address\": \"Jln Ampang, Kuala Lumpur City Centre, 50450 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\",\n      \"category\": \"attraction\",\n      \"contactNum\": null,\n      \"description\": \"A vibrant area known for its upscale shopping, entertainment, and nightlife.\",\n      \"name\": \"Golden Triangle\",\n      \"placeID\": \"-O193884d5860\",\n      \"poster\": \"https://storage.googleapis.com/wandermy2.appspot.com/places/attraction/-O193884d5860/poster/Golden%20Triangle_0.jpg\",\n      \"price_or_menu\": null,\n      \"tags\": [\"shopping\", \"nightlife\", \"vibrant\", \"entertainment\", \"iconic\", \"urban\"],\n      \"websiteLink\": \"https://bit.ly/kl_tower\",\n      \"geoCoordinates\": \"3.1500° N, 101.7167° E\",\n      \"operatingHours\": \"10:00 AM - 10:00 PM\",\n      \"isSuggested\": false\n    },\n    {\n      \"address\": \"24, Jalan Datuk Sulaiman, Taman Tun Dr Ismail, 60000 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur\",\n      \"category\": \"dining\",\n      \"contactNum\": null,\n      \"description\": \"A trendy tea house known for its cozy atmosphere and refreshing drinks.\",\n      \"name\": \"Chagee @ TTDI\",\n      \"placeID\": \"-OBv5VhT59ioRg41Yylf\",\n      \"poster\": \"https://firebasestorage.googleapis.com/v0/b/wandermy2.appspot.com/o/places%2Fdining%2F-OBv5VhT59ioRg41Yylf%2Fposter%2F2024-11-17T17%3A12%3A52.897Z?alt=media&token=54235c2b-e8a6-4104-b5ef-a5a42daf531f\",\n      \"price_or_menu\": \"https://firebasestorage.googleapis.com/v0/b/wandermy2.appspot.com/o/places%2Fdining%2F-OBv5VhT59ioRg41Yylf%2Fmenu%2F2024-11-17T17%3A12%3A53.726Z?alt=media&token=855bd8f8-0e08-4ef5-ba69-a7000b726a5e\",\n      \"tags\": [\"tea\", \"drinks\", \"cozy\", \"trending\", \"refreshing\", \"viral\"],\n      \"websiteLink\": \"https://chagee.com.my/?utm_source=GBP&utm_medium=GBP&utm_campaign=GBP&utm_id=GBP&utm_term=GBP&utm_content=GBP\",\n      \"geoCoordinates\": \"3.1667° N, 101.6500° E\",\n      \"operatingHours\": \"10:00 AM - 10:00 PM\",\n      \"isSuggested\": false\n    }\n  ],\n  \"suggestedPlaces\": [\n    {\n      \"address\": \"Jalan Raja Chulan, Kuala Lumpur, 50200 Kuala Lumpur, Federal Territory of Kuala Lumpur, Malaysia\",\n      \"category\": \"attraction\",\n      \"contactNum\": null,\n      \"description\": \"Iconic twin towers, offering breathtaking views from the Skybridge and observation decks.\",\n      \"name\": \"Petronas Twin Towers\",\n      \"placeID\": \"petronas-twin-towers\",\n      \"poster\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Petronas_Towers_from_KLCC_Park.jpg/1280px-Petronas_Towers_from_KLCC_Park.jpg\",\n      \"price_or_menu\": null,\n      \"tags\": [\"iconic\", \"landmark\", \"skyscrapers\", \"architecture\", \"views\"],\n      \"websiteLink\": \"https://www.petronastwintowers.com.my/\",\n      \"geoCoordinates\": \"3.1500° N, 101.7167° E\",\n      \"operatingHours\": \"9:00 AM - 9:00 PM\",\n      \"isSuggested\": true\n    },\n    {\n      \"address\": \"Jalan P. Ramlee, Kuala Lumpur City Centre, 50250 Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur, Malaysia\",\n      \"category\": \"dining\",\n      \"contactNum\": null,\n      \"description\": \"Upscale dining with a focus on modern Malaysian cuisine.\",\n      \"name\": \"Troika Sky Dining\",\n      \"placeID\": \"troika-sky-dining\",\n      \"poster\": \"https://dynamic-media.cdn.cnn.com/api/v1/images/stellar/prod/230227145052-troika-sky-dining-kuala-lumpur-malaysia.jpg?q=w_1920,h_1080,x_0,y_0,c_crop\",\n      \"price_or_menu\": null,\n      \"tags\": [\"fine-dining\", \"malaysian-cuisine\", \"modern\", \"views\"],\n      \"websiteLink\": \"https://troikaskydining.com/\", \n      \"geoCoordinates\": \"3.1451° N, 101.7122° E\",\n      \"operatingHours\": \"12:00 PM - 10:00 PM\",\n      \"isSuggested\": true\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": [\n      {\n        \"time\": \"Morning (8:00 AM)\",\n        \"activity\": \"Arrive in Kuala Lumpur from Ipoh by bus. Check into your chosen hotel.\",\n        \"location\": \"Hotel\"\n      },\n      {\n        \"time\": \"Late Morning (10:00 AM)\",\n        \"activity\": \"Visit the Petronas Twin Towers (Suggested Place). Take in the views from the Skybridge or observation deck.\",\n        \"location\": \"Petronas Twin Towers\",\n        \"travelTime\": \"30 minutes by taxi/Grab\"\n      },\n      {\n        \"time\": \"Lunch (1:00 PM)\",\n        \"activity\": \"Enjoy lunch at a restaurant in the Golden Triangle.\",\n        \"location\": \"Golden Triangle\",\n        \"travelTime\": \"15 minutes by taxi/Grab\"\n      },\n      {\n        \"time\": \"Afternoon (2:30 PM)\",\n        \"activity\": \"Explore the Golden Triangle: shopping, sightseeing.\",\n        \"location\": \"Golden Triangle\"\n      },\n      {\n        \"time\": \"Evening (6:00 PM)\",\n        \"activity\": \"Enjoy dinner at Troika Sky Dining (Suggested Place) for stunning city views.\",\n        \"location\": \"Troika Sky Dining\",\n        \"travelTime\": \"20 minutes by taxi/Grab\"\n      },\n      {\n        \"time\": \"Night (8:00 PM)\",\n        \"activity\": \"Relax at the hotel or explore the nightlife in Bukit Bintang.\",\n        \"location\": \"Hotel/Bukit Bintang\"\n      }\n    ],\n    \"day2\": [\n      {\n        \"time\": \"Morning (8:00 AM)\",\n        \"activity\": \"Enjoy breakfast at the hotel.\",\n        \"location\": \"Hotel\"\n      },\n      {\n        \"time\": \"Morning (9:00 AM)\",\n        \"activity\": \"Depart from Kuala Lumpur by bus back to Ipoh.\",\n        \"location\": \"KL Sentral Bus Station\"\n      }\n    ]\n  }\n}\n```"},
          ],
        },
      ],
    });      
    
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
//   }
  
//   run();